---
const pages = await Astro.glob('../../data/about/*.md');
const path = new URL(Astro.request.url).pathname.replace(/\/$/, '').split('/');
let a = new URL(Astro.request.url).pathname.replace(/\/$/, '');
const current = path[2];
const root = current === undefined ? true : false;
---

<ul
	class="divide-y overflow-hidden rounded-th-rounded-2 bg-th-bg-1 p-0 shadow-th-shadow-1 dark:bg-th-bg-1-dark"
>
	<li class="list-none border-dashed border-th-border-2 px-4 py-2.5 dark:border-th-border-2-dark">
		<h2 class="m-0 text-xl leading-[1.625rem]">เกี่ยวกับวิทยาลัย</h2>
	</li>
	{
		pages.map((page) => (
			<li
				class={
					current === page.frontmatter.slug
						? 'active list-none border-l-[3px] border-dashed border-th-border-2 border-l-th-color-1 px-4 py-2.5 pl-[13px] font-bold dark:border-th-border-2-dark dark:border-l-th-color-1-dark'
						: 'list-none border-dashed border-th-border-2 px-4 py-2.5 dark:border-th-border-2-dark'
				}
			>
				<a
					href={`/about/${page.frontmatter.slug}/`}
					class="text-th-link-1 dark:text-th-link-1-dark"
				>
					{page.frontmatter.title}
				</a>
			</li>
		))
	}
</ul>
